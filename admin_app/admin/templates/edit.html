{% extends "layout.html" %}
  {% block content %}

  <h1> Add Book </h1>
    <form action="" method="post" novalidate>
        
        {{ form.hidden_tag() }}
        
        <p>
          {{ form.title.label }}<br>
          {{ form.title(size=32) }}<br>
          {% for error in form.title.errors %}
          <span style = "color: red;"> [{{ error }}] </span>
          {% endfor %}
        </p>

        <p>
            {{ form.author.label }}<br>
            {{ form.author(size=32) }}<br>
            {% for error in form.author.errors %}
            <span style = "color: red;"> [{{ error }}] </span>
            {% endfor %}
        </p>

        <p>
          {{ form.publishedDate.label }}<br>
          {{ form.publishedDate(size=32) }}<br>
          {% for error in form.publishedDate.errors %}
          <span style = "color: red;"> [{{ error }}] </span>
          {% endfor %}
        </p>

        <p>
          {{ form.ISBN.label }}<br>
          {{ form.ISBN(size=32) }}<br>
          {% for error in form.ISBN.errors %}
          <span style = "color: red;"> [{{ error }}] </span>
          {% endfor %}
        </p>

        <p> {{ form.submit() }} </p>
      </form>

      <h1>Current Books</h1>

      {% if books!=none%}
        <table>
          {% for book in books %}
            <tr>
              <td>
                {{book.title}} 
              </td>
              <td>
                <form method="POST" action="./update" style="display: inline">
                  <input type="hidden" value="{{book.title}}" name="oldtitle">
                  <input type="text" value="{{book.title}}" name="newtitle">
                  <input type="submit" value="Update">
                </form>
              </td>
              <td>
                <form method="POST" action="./delete" style="display: inline">
                  <input type="hidden" value="{{book.title}}" name="title">
                  <input type="submit" value="Delete">
                </form>
              </td>
            </tr>
            {% endfor %}
        </table>
      {% endif%}
    </body>
{% endblock %}

{% extends "layout.html" %}
  
{% block content %}
  <h1>Books</h1> 

  {% if books!=none%}
  <table>
    {% for book in books %}
      <tr>
        <td>
          {{book.title}} 
        </td>
    {% endfor %}
    
  {% endif%}

{% endblock %}

